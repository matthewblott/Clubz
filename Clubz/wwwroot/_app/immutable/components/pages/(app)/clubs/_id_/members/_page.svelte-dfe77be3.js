import{S as oe,i as se,s as ne,k as $,q as N,a as I,x as Z,l as g,m as v,r as O,h as s,c as M,y as j,n as X,b as J,I as a,z as F,P as fe,Z as ce,f as L,d as ue,t as U,A as G,V as me,J as he,o as ie,u as Y,g as _e}from"../../../../../../chunks/index-a516f074.js";import{E as pe}from"../../../../../../chunks/edit-e1c61d1e.js";import{P as de}from"../../../../../../chunks/plus-square-bc85aa77.js";import{X as be}from"../../../../../../chunks/x-square-498380e9.js";import"../../../../../../chunks/index-4d8f42c1.js";import{M as $e}from"../../../../../../chunks/member-70979ef1.js";import{g as te}from"../../../../../../chunks/navigation-1c36d6bc.js";import{p as ge}from"../../../../../../chunks/stores-1c5c147a.js";async function ve(m){return await $e.fetchByClub(m)}function ae(m,t,u){const n=m.slice();return n[7]=t[u].id,n[8]=t[u].forename,n[9]=t[u].surname,n}function re(m){let t,u,n=m[7]+"",i,T,E,d=m[8]+"",_,b,h=m[9]+"",D,H,w,y,q,k,A,p;return q=new pe({}),{c(){t=$("tr"),u=$("td"),i=N(n),T=I(),E=$("td"),_=N(d),b=I(),D=N(h),H=I(),w=$("td"),y=$("a"),Z(q.$$.fragment),A=I(),this.h()},l(f){t=g(f,"TR",{});var o=v(t);u=g(o,"TD",{scope:!0});var P=v(u);i=O(P,n),P.forEach(s),T=M(o),E=g(o,"TD",{});var C=v(E);_=O(C,d),b=M(C),D=O(C,h),C.forEach(s),H=M(o),w=g(o,"TD",{});var R=v(w);y=g(R,"A",{href:!0});var B=v(y);j(q.$$.fragment,B),B.forEach(s),R.forEach(s),A=M(o),o.forEach(s),this.h()},h(){X(u,"scope","row"),X(y,"href",k="/clubs/"+m[1]+"/members/"+m[7])},m(f,o){J(f,t,o),a(t,u),a(u,i),a(t,T),a(t,E),a(E,_),a(E,b),a(E,D),a(t,H),a(t,w),a(w,y),F(q,y,null),a(t,A),p=!0},p(f,o){(!p||o&1)&&n!==(n=f[7]+"")&&Y(i,n),(!p||o&1)&&d!==(d=f[8]+"")&&Y(_,d),(!p||o&1)&&h!==(h=f[9]+"")&&Y(D,h),(!p||o&1&&k!==(k="/clubs/"+f[1]+"/members/"+f[7]))&&X(y,"href",k)},i(f){p||(L(q.$$.fragment,f),p=!0)},o(f){U(q.$$.fragment,f),p=!1},d(f){f&&s(t),G(q)}}}function Ee(m){let t,u,n,i,T,E,d,_,b,h,D,H,w,y,q,k,A,p,f,o,P,C,R;T=new be({}),p=new de({});let B=m[0],r=[];for(let e=0;e<B.length;e+=1)r[e]=re(ae(m,B,e));const le=e=>U(r[e],1,1,()=>{r[e]=null});return{c(){t=$("h1"),u=N("Members"),n=I(),i=$("button"),Z(T.$$.fragment),E=N(" Cancel"),d=I(),_=$("table"),b=$("thead"),h=$("th"),D=N("Id"),H=I(),w=$("th"),y=N("Name"),q=I(),k=$("th"),A=$("a"),Z(p.$$.fragment),f=I(),o=$("tbody");for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){t=g(e,"H1",{});var c=v(t);u=O(c,"Members"),c.forEach(s),n=M(e),i=g(e,"BUTTON",{});var l=v(i);j(T.$$.fragment,l),E=O(l," Cancel"),l.forEach(s),d=M(e),_=g(e,"TABLE",{role:!0});var S=v(_);b=g(S,"THEAD",{});var z=v(b);h=g(z,"TH",{scope:!0});var K=v(h);D=O(K,"Id"),K.forEach(s),H=M(z),w=g(z,"TH",{scope:!0});var Q=v(w);y=O(Q,"Name"),Q.forEach(s),q=M(z),k=g(z,"TH",{});var W=v(k);A=g(W,"A",{href:!0});var x=v(A);j(p.$$.fragment,x),x.forEach(s),W.forEach(s),z.forEach(s),f=M(S),o=g(S,"TBODY",{});var ee=v(o);for(let V=0;V<r.length;V+=1)r[V].l(ee);ee.forEach(s),S.forEach(s),this.h()},h(){X(h,"scope","col"),X(w,"scope","col"),X(A,"href","/clubs/"+m[1]+"/members/new"),X(_,"role","grid")},m(e,c){J(e,t,c),a(t,u),J(e,n,c),J(e,i,c),F(T,i,null),a(i,E),J(e,d,c),J(e,_,c),a(_,b),a(b,h),a(h,D),a(b,H),a(b,w),a(w,y),a(b,q),a(b,k),a(k,A),F(p,A,null),a(_,f),a(_,o);for(let l=0;l<r.length;l+=1)r[l].m(o,null);P=!0,C||(R=fe(i,"click",ce(m[2])),C=!0)},p(e,[c]){if(c&3){B=e[0];let l;for(l=0;l<B.length;l+=1){const S=ae(e,B,l);r[l]?(r[l].p(S,c),L(r[l],1)):(r[l]=re(S),r[l].c(),L(r[l],1),r[l].m(o,null))}for(_e(),l=B.length;l<r.length;l+=1)le(l);ue()}},i(e){if(!P){L(T.$$.fragment,e),L(p.$$.fragment,e);for(let c=0;c<B.length;c+=1)L(r[c]);P=!0}},o(e){U(T.$$.fragment,e),U(p.$$.fragment,e),r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)U(r[c]);P=!1},d(e){e&&s(t),e&&s(n),e&&s(i),G(T),e&&s(d),e&&s(_),G(p),me(r,e),C=!1,R()}}}function Te(m,t,u){let n,i;he(m,ge,h=>u(3,i=h));const E=i.url.pathname.split("/").filter(h=>h!==""),d=parseInt(E[1]),_=async(h=0)=>{const D=await ve(d),H=`/clubs/${d}/members`;te(H),u(0,n=D)},b=()=>{te(`/clubs/${d}`)};return ie(()=>{_()}),u(0,n=[]),[n,d,b]}class Ie extends oe{constructor(t){super(),se(this,t,Te,Ee,ne,{})}}export{Ie as default};
